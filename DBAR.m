clear; clc; clf; figure(1);

% INPUTS:
b=4;
s=6;
dim=3;
q=4; 
p=1;

n0=[0,0,5];
n1=[0,2*sqrt(3)/3,0];
n2=[1,-sqrt(3)/3,0];
n3=[-1,-sqrt(3)/3,0];
n4=[0,0,-5];
N=[n0; n1; n2; n3; n4]';

 % Connectivity matrix
C(  1,1)=-1; C(  1,2)=0; C(  1,3)=0; C(  1,4)=0; C(  1,5)=1;       % bars 
C(  2,1)=0;  C( 2,2)=-1; C(  2,3)=1; C(  2,4)=0; C(  2,5)=0;
C(  3,1)=0;  C( 3,2)=0;  C( 3,3)=-1; C(  3,4)=1; C(  3,5)=0;
C(  4,1)=0;  C( 4,2)=1;  C( 4,3)=0;  C( 4,4)=-1; C(  4,5)=0;
C(  5,1)=-1; C(  5,2)=1; C(  5,3)=0; C(  5,4)=0; C(  5,5)=0;
C(  6,1)=-1; C(  6,2)=0; C(  6,3)=1; C(  6,4)=0; C(  6,5)=0;
C(  7,1)=-1; C(  7,2)=0; C(  7,3)=0; C(  7,4)=1; C(  7,5)=0;
C(  8,1)=0;  C( 8,2)=-1; C(  8,3)=0; C(  8,4)=0; C(  8,5)=1;
C(  9,1)=0;  C( 9,2)=0;  C( 9,3)=-1; C(  9,4)=0; C(  9,5)=1;
C(  10,1)=0; C( 10,2)=0; C( 10,3)=0; C( 10,4)=-1;C( 10,5)=1;


Q=N(:,1:4);
P=N(:,5);

U=zeros(dim,q); 
U(:,1)=[0;0;-10];
[c_bars,t_strings,V]=tensegrity_statics(b,s,q,p,dim,Q,P,C,U);
tensegrity_plot(Q,P,C,b,s,U,V,true,2.0); grid on;